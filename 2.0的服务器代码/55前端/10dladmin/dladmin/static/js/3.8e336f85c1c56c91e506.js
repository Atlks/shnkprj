webpackJsonp([3],{QlWu:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=a("gyMJ"),i=a("mtWM"),r=a.n(i),n=a("mw3O"),e=a.n(n),c={name:"login",data:function(){return{isErrorPrompt:!1,ErrorPromptValue:"",userIcon:!1,passwordIcon:!1,accountNumber:"",passwordNumber:"",allMsg:!1,mathInputIcon:!1,validate:"",isSuccess:!1,codeId:""}},methods:{accountInput:function(){this.isErrorPrompt=!1,""==this.accountNumber?this.userIcon=!1:this.userIcon=!0,this.verification()},passwordInput:function(){this.isErrorPrompt=!1,""==this.passwordNumber?this.passwordIcon=!1:this.passwordIcon=!0,this.verification()},verification:function(){1==this.isSuccess&&""!=this.accountNumber&&""!=this.passwordNumber?this.allMsg=!0:this.allMsg=!1},login:function(){var t=this,s={account:this.accountNumber,password:this.passwordNumber,captcha:this.validate,code:this.codeId,type:1};r.a.post(o.a+"/api/user/login",e.a.stringify(s)).then(function(s){console.log(s.data),0==s.data.code?(t.isErrorPrompt=!0,t.ErrorPromptValue=s.data.msg,t.yanFunction(),t.isSuccess=!1):t.$Modal.success({title:"成功",content:"登录成功",onOk:function(){t.$store.commit("set_token",s.data.data.token),t.$store.commit("set_userName",s.data.data.username),t.$router.push({path:"/"})}})},function(t){console.log(t)})}},mounted:function(){this.yanFunction=function(){var t=this;initNECaptcha({captchaId:"abe113943848407087823bbd0d573369",element:".math_div",mode:"float",width:370,onReady:function(t){},onVerify:function(s,a){s||(t.validate=a.validate,t.isSuccess=!0,t.isErrorPrompt=!1,t.verification())}},function(t){t},function(t){})},this.yanFunction()}},u={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"login"}},[t._m(0),t._v(" "),a("div",{staticClass:"loginDiv"},[a("p",{staticClass:"loginDivTitle"},[t._v("代理管理登录")]),t._v(" "),a("div",{staticClass:"errorPrompt"},[t.isErrorPrompt?a("div",{staticClass:"errorPromptDiv"},[a("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/tishi.png",alt:""}}),t._v(" "),a("p",[t._v(t._s(t.ErrorPromptValue))])]):t._e()]),t._v(" "),a("div",{staticClass:"user_div",class:{borderColor:t.userIcon}},[t.userIcon?a("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/yonghu_s.png",alt:""}}):a("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/yonghu_n.png",alt:""}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountNumber,expression:"accountNumber"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.accountNumber},on:{input:[function(s){s.target.composing||(t.accountNumber=s.target.value)},t.accountInput]}})]),t._v(" "),a("div",{staticClass:"password_div",class:{borderColor:t.passwordIcon}},[t.passwordIcon?a("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/mima_s.png",alt:""}}):a("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/mima_n.png",alt:""}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordNumber,expression:"passwordNumber"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.passwordNumber},on:{input:[function(s){s.target.composing||(t.passwordNumber=s.target.value)},t.passwordInput]}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.isSuccess,expression:"isSuccess==false"}],staticClass:"math_div",class:{borderColor:t.mathInputIcon}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isSuccess,expression:"isSuccess==true"}],staticClass:"math_div2",class:{borderColor:t.mathInputIcon}},[a("p",[t._v("验证成功")])]),t._v(" "),a("button",{staticClass:"loginBtn",class:{btnColor:t.allMsg},on:{click:t.login}},[t._v("登录")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"bg"},[s("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/login/bg.png",alt:""}})])}]};var d=a("VU/8")(c,u,!1,function(t){a("pl2A"),a("tRan")},"data-v-da829d7a",null);s.default=d.exports},pl2A:function(t,s){},tRan:function(t,s){}});