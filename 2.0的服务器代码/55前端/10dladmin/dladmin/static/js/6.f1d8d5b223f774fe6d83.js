webpackJsonp([6],{"6QK/":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("gyMJ"),i=e("mtWM"),s=e.n(i),l=(e("mw3O"),{name:"appManagement",data:function(){return{headers:{headers:{token:localStorage.getItem("token")}},equipment_count:"",download_count:"",member_num:"",input:"",total:0,pageNumber:"",current:1,tableData:[]}},methods:{handleEdit:function(a){window.open(a,"_blank")},seachInput:function(){var a=this;if(void 0==this.$route.query.id){var t={keywords:this.input,id:"",page:1,page_size:6};s.a.post(n.a+"/api/app/app_list",t,this.headers).then(function(t){console.log(t.data.data.list),a.total=t.data.data.total,a.pageNumber=parseInt(Math.ceil(Number(a.total)/6)),a.tableData=t.data.data.list},function(a){console.log(a)})}else{var e={keywords:this.input,id:this.$route.query.id,page:1,page_size:6};s.a.post(n.a+"/api/app/app_list",e,this.headers).then(function(t){console.log(t.data.data.list),a.total=t.data.data.total,a.pageNumber=parseInt(Math.ceil(Number(a.total)/6)),a.tableData=t.data.data.list},function(a){console.log(a)})}},indexChange:function(a){var t=this,e={id:this.$route.query.id,page:a,page_size:6};s.a.post(n.a+"/api/app/app_list",e,this.headers).then(function(a){t.total=a.data.data.total,t.pageNumber=parseInt(Math.ceil(Number(t.total)/6)),t.tableData=a.data.data.list},function(a){console.log(a)})},pageChange:function(a){console.log(a)},swich:function(a){var t={user_id:a.user_id,app_id:a.id,type:a.status};s.a.post(n.a+"/api/app/appHandle",t,this.headers).then(function(a){console.log(a.data)},function(a){console.log(a)})}},mounted:function(){var a=this;if(void 0==this.$route.query.id){s.a.get(n.a+"/api/user/index",this.headers).then(function(t){a.member_num=t.data.data.sign_num,a.download_count=t.data.data.download_count,a.equipment_count=t.data.data.equipment_count},function(a){console.log(a)});s.a.post(n.a+"/api/app/app_list",{id:"",page:1,page_size:6},this.headers).then(function(t){a.total=t.data.data.total,a.pageNumber=parseInt(Math.ceil(Number(a.total)/6)),a.tableData=t.data.data.list},function(a){console.log(a)})}else{var t={id:this.$route.query.id};s.a.post(n.a+"/api/user/userInfo",t,this.headers).then(function(t){a.member_num=t.data.data.sign_num,a.download_count=t.data.data.download_count,a.equipment_count=t.data.data.equipment_count},function(a){console.log(a)});var e={id:this.$route.query.id,page:1,page_size:6};s.a.post(n.a+"/api/app/app_list",e,this.headers).then(function(t){a.total=t.data.data.total,a.pageNumber=parseInt(Math.ceil(Number(a.total)/6)),a.tableData=t.data.data.list},function(a){console.log(a)})}}}),o={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"appManagement"}},[e("div",{staticClass:"appManagementMain"},[e("div",{staticClass:"appManagementMainFirst"},[e("div",{staticStyle:{width:"97%",display:"flex","justify-content":"space-between","align-items":"center",margin:"0 auto"}},[e("div",{staticClass:"appManagementMainFirstOne"},[e("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/index/user_hs.png",alt:""}}),a._v(" "),e("div",{staticClass:"appManagementMainFirstOneSmall"},[e("p",[a._v("总下载次数")]),a._v(" "),e("p",[a._v(a._s(a.download_count))])])]),a._v(" "),e("div",{staticClass:"appManagementMainFirstOne"},[e("img",{attrs:{src:"//wsd.58z.org/dladmin/static/image/index/user_zx.png",alt:""}}),a._v(" "),e("div",{staticClass:"appManagementMainFirstOneSmall"},[e("p",[a._v("下载设备总数")]),a._v(" "),e("p",[a._v(a._s(a.equipment_count))])])]),a._v(" "),e("div",{staticClass:"appManagementMainFirstOne"},[e("div",{staticClass:"appManagementMainFirstOneSmall"},[e("p",[a._v("用户剩余次数")]),a._v(" "),e("p",[a._v(a._s(a.member_num))])])])])]),a._v(" "),e("div",{staticClass:"appManagementMainSecond"},[e("div",{staticClass:"appManagementMainSecondMain"},[e("div",{staticClass:"appManagementMainSecondMainF"},[e("el-input",{staticClass:"seachInput",attrs:{placeholder:"根据应用名称搜索","prefix-icon":"el-icon-search"},on:{input:a.seachInput},model:{value:a.input,callback:function(t){a.input=t},expression:"input"}})],1),a._v(" "),e("div",{staticClass:"appManagementMainSecondMainS"},[e("el-table",{attrs:{align:"center",data:a.tableData,"header-cell-style":{background:"#EFF1FA"}}},[e("el-table-column",{attrs:{align:"center",prop:"id",label:"序号"}}),a._v(" "),e("el-table-column",{attrs:{align:"center",prop:"name",label:"应用名称"}}),a._v(" "),e("el-table-column",{attrs:{prop:"create_time",label:"创建时间",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"icon",label:"icon",align:"center"},scopedSlots:a._u([{key:"default",fn:function(a){return[e("img",{staticClass:"head_pic",attrs:{src:a.row.icon,width:"40",height:"40"}})]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"url",label:"下载链接"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("p",{staticStyle:{color:"#536bf5",cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),a.handleEdit(a.tableData[t.$index].url,a.tableData[t.$index].status)}}},[a._v("点击下载")])]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"version_code",label:"版本号",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"status",label:"状态 ",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#2183D8","inactive-color":"#999999"},on:{change:function(e){return a.swich(t.row)}},model:{value:t.row.status,callback:function(e){a.$set(t.row,"status",e)},expression:"scope.row.status"}})]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"download_num",label:"安装量",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"download_num",align:"center",label:"下载量"}}),a._v(" "),e("el-table-column",{attrs:{prop:"filesize",align:"center",label:"文件大小"}})],1),a._v(" "),e("div",{staticClass:"paging"},[e("p",[a._v("共"),e("span",{staticStyle:{color:"red"}},[a._v(a._s(a.pageNumber))]),a._v(" 页/ "),e("span",{staticStyle:{color:"red"}},[a._v(a._s(a.total))]),a._v("条记录")]),a._v(" "),e("Page",{attrs:{"page-size":6,current:a.current,total:a.total},on:{"on-change":a.indexChange,"on-page-size-change":a.pageChange}})],1)],1)])])])])},staticRenderFns:[]};var r=e("VU/8")(l,o,!1,function(a){e("OnRJ")},"data-v-7c5902ac",null);t.default=r.exports},OnRJ:function(a,t){}});