webpackJsonp([16],{"4DCM":function(t,a){},GU5I:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("gyMJ"),s=e("mtWM"),n=e.n(s),d=e("mw3O"),o=e.n(d),r={name:"realName",data:function(){return{headers:{headers:{token:localStorage.getItem("token")}},imageUrl:"",limitCount:1,hideUpload:!1,dialogImageUrl:"",dialogVisible:!1,isUpload:!1,active:1,text:"应监管部门要求，网上发布APP必须进行实名登记， 我们采用了高于行业标准的要求来保障您的信息安全，为了进一步的保护您的个人信息，建议您在上传的实名信息中添加水印文字-仅供实名认证使用。",form:{identityfront:"",identityback:"",identityhold:""},scopeBoolean:!1,offet:!0,rules:{},emailCapCode:"获取邮箱验证码",identityfront:"",identityback:"",identityhold:"",timer:null,isTishi:!1,isOk:!1,text2:"",relName:"",idNum:"",address:""}},methods:{newuploadfrontimg:function(t){var a=this,e=new FormData;n.a.get(i.a+"/api/common/ossToken",this.headers).then(function(i){e.append("policy",i.data.data.policy),e.append("success_action_status",200),e.append("signature",i.data.data.signature),e.append("OSSAccessKeyId",i.data.data.accessid),e.append("name",t.file.name),e.append("key",i.data.data.dir+t.file.name),e.append("file",t.file),a.identityfront=URL.createObjectURL(t.file),a.form.identityfront=i.data.data.dir+t.file.name,n.a.post(i.data.data.host,e,a.headers).then(function(t){},function(t){a.$message.error("上传图片失败")})},function(t){})},newuploadbackimg:function(t){var a=this,e=new FormData;n.a.get(i.a+"/api/common/ossToken",this.headers).then(function(i){e.append("policy",i.data.data.policy),e.append("success_action_status",200),e.append("signature",i.data.data.signature),e.append("OSSAccessKeyId",i.data.data.accessid),e.append("name",t.file.name),e.append("key",i.data.data.dir+t.file.name),e.append("file",t.file),a.identityback=URL.createObjectURL(t.file),a.form.identityback=i.data.data.dir+t.file.name,n.a.post(i.data.data.host,e,a.headers).then(function(t){},function(t){a.$message.error("上传图片失败")})},function(t){})},newuploadholdimg:function(t){var a=this,e=new FormData;n.a.get(i.a+"/api/common/ossToken",this.headers).then(function(i){console.log(t.file.name),e.append("policy",i.data.data.policy),e.append("success_action_status",200),e.append("signature",i.data.data.signature),e.append("OSSAccessKeyId",i.data.data.accessid),e.append("name",t.file.name),e.append("key",i.data.data.dir+t.file.name),e.append("file",t.file),a.identityhold=URL.createObjectURL(t.file),a.form.identityhold=i.data.data.dir+t.file.name,n.a.post(i.data.data.host,e,a.headers).then(function(t){},function(t){a.$message.error("上传图片失败")})},function(t){})},refer:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return!1;var e,s=a.$loading({lock:!0,text:"拼命认证中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),d=(""==a.form.identityfront?"请上传身份证正面照片":""==a.form.identityback&&"请上传身份证反面照片")||""==a.form.identityhold&&"请上传手持身份证照片";if(d.length>0)return a.$message({message:d,type:"warning",duration:1500}),s.close(),!1;e={identityfront:a.form.identityfront,identityback:a.form.identityback,identityhold:a.form.identityhold,type:1},n.a.post(i.a+"/api/user/authentication",o.a.stringify(e),a.headers).then(function(t){0===t.data.code?(a.$message({message:t.data.msg,type:"warning",duration:1500}),s.close()):(a.$message({message:"提交成功",type:"success",duration:1500}),a.renZhen(),s.close())},function(t){console.log(t),a.$message({message:"上传失败",type:"warning",duration:1500}),s.close()})})},updateRouter:function(){this.$router.push("/accountSettings")},beforeIdentityholdUpload:function(t){var a=t.size/1024/1024<5;return a||this.$message.error("上传头像图片大小不能超过 5MB!"),a},handleIdentitybackSuccess:function(t,a){this.form.identityback=a.response.data.url,this.identityback=URL.createObjectURL(a.raw)},beforeIdentitybackUpload:function(t){var a=t.size/1024/1024<5;return a||this.$message.error("上传头像图片大小不能超过 5MB!"),a},handleidentityholdSuccess:function(t,a){},beforeidentityholdUpload:function(t){var a=t.size/1024/1024<5;return a||this.$message.error("上传头像图片大小不能超过 5MB!"),a}},mounted:function(){this.renZhen=function(){var t=this;n.a.post(i.a+"/api/user/checkAuthEntication",{type:2},this.headers).then(function(a){200==a.data.code?(t.isUpload=!1,t.isOk=!0,t.isTishi=!1,t.relName=a.data.data.name,t.idNum=a.data.data.num,t.address=a.data.data.region):0==a.data.code?(t.isUpload=!0,t.isOk=!1):1==a.data.code?(t.isTishi=!0,t.isUpload=!1,t.isOk=!1,t.text2=a.data.msg):2==a.data.code?(t.isTishi=!0,t.isUpload=!1,t.isOk=!1,t.text2=a.data.msg):3==a.data.code&&(t.isTishi=!0,t.isUpload=!1,t.isOk=!1,t.text2="审核中")},function(a){t.$message.error("系统报错"),console.log(a)})},this.renZhen()}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"realName"}},[t.isUpload?e("div",[e("el-form",{ref:"form",staticClass:"demo-form form-message",attrs:{rules:t.rules,"label-width":"134px",model:t.form}},[e("el-form-item",{attrs:{label:"身份证图片"}},[e("div",{staticClass:"card-img"},[e("div",{staticClass:"card-text"},[t._v(t._s(t.text))])])]),t._v(" "),e("div",{staticClass:"personalCertificate-contact"},[e("div",{staticClass:"contact-hold"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.png",action:"string","http-request":t.newuploadfrontimg,"show-file-list":!1,"before-upload":t.beforeIdentityholdUpload}},[t.identityfront?e("img",{staticClass:"contact-avatar",attrs:{src:t.identityfront}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("p",[t._v("上传身份证正面照片")])],1),t._v(" "),e("div",{staticClass:"contact-hold"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.png",action:"string","http-request":t.newuploadbackimg,"show-file-list":!1,"before-upload":t.beforeIdentitybackUpload}},[t.identityback?e("img",{staticClass:"contact-avatar",attrs:{src:t.identityback}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("p",[t._v("上传身份证反面照片")])],1),t._v(" "),e("div",{staticClass:"contact-hold"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.png",action:"string","http-request":t.newuploadholdimg,"show-file-list":!1,"before-upload":t.beforeidentityholdUpload}},[t.identityhold?e("img",{staticClass:"contact-avatar",attrs:{src:t.identityhold}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("p",[t._v("上传手持身份证照片")])],1)]),t._v(" "),e("div",{staticClass:"enterpriseCertification-reminder"},[e("p",[t._v("提示：")]),t._v(" "),e("p",[t._v("1.请上传与手机号码身份信息一致的身份证照片，用于认证")]),t._v(" "),e("p",[t._v("2.单张照片大小不超过5M，支持PNG、JPG格式；")]),t._v(" "),e("p",[t._v("3.所上传的图片，保证文字和图片、人像清晰可见。")])]),t._v(" "),e("div",{staticClass:"enterpriseCertification-el-button"},[e("el-button",{staticClass:"enterprise-refer",on:{click:function(a){return t.refer("form")}}},[t._v("实名认证")])],1)],1)],1):t._e(),t._v(" "),t.isTishi?e("div",{staticStyle:{width:"100%",margin:"0 auto",height:"100%"}},[e("p",{staticStyle:{margin:"0 auto",width:"600px","font-size":"40px","font-weight":"bold","padding-top":"200px","text-align":"center"}},[t._v(t._s(t.text2))])]):t._e(),t._v(" "),t.isOk?e("div",{staticStyle:{width:"800px",margin:"0 auto","padding-top":"150px"}},[e("div",{staticClass:"textmain"},[e("p",[t._v("真实姓名")]),t._v(" "),e("p",{staticClass:"textT"},[t._v(t._s(t.relName))])]),t._v(" "),e("div",{staticClass:"textmain"},[e("p",[t._v("身份证号")]),t._v(" "),e("p",{staticClass:"textT"},[t._v(t._s(t.idNum))])]),t._v(" "),e("div",{staticClass:"textmain"},[e("p",[t._v("所在地区")]),t._v(" "),e("p",{staticClass:"textT"},[t._v(t._s(t.address))])])]):t._e()])},staticRenderFns:[]};var l=e("VU/8")(r,c,!1,function(t){e("4DCM"),e("t1dJ")},"data-v-103b3efe",null);a.default=l.exports},t1dJ:function(t,a){}});